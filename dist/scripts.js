let pokemonRepo=function(){let e=[],t=["name","detailsUrl"];function n(){return e}function o(n){"object"==typeof n&&t.every(e=>Object.keys(n).includes(e))&&e.push(n)}function a(e){return fetch(e.detailsUrl).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.detailsLoaded=!0})}function i(e){let t=e.types.map(e=>e.type.name).join(", ");document.querySelector("#modal-pokemon-name").innerText=e.name,document.querySelector("#modal-pokemon-height").innerText=e.height,document.querySelector("#modal-pokemon-types").innerText=t,document.querySelector("#modal-pokemon-image").src=e.imageUrl}return{add:o,findByName:function t(n){let o=e.find(function(e){return e.name===n});return o},getAll:n,loadDetails:a,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon?limit=150&offset=0").then(e=>e.json()).then(t=>{t?.results?.forEach(e=>{o({name:e.name,detailsUrl:e.url})}),e.forEach(e=>{!function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li"),l=document.createElement("button");n.appendChild(o),o.classList.add("list-item"),o.appendChild(l),l.innerText=t.name,l.classList.add("button-class"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#pokemon-details-modal"),l.addEventListener("click",e=>{t.detailsLoaded?i(t):a(t).then(e=>{i(t)})})}(e)})})}}}();pokemonRepo.loadList();